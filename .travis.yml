dist: trusty
sudo: false

addons:
  chrome: stable

language: node_js

cache:
  directories:
     - ./node_modules

stages:
  - build
  - test
  - name: optional
    if: (NOT type IN (pull_request)) AND (branch = master)
  - deploy

matrix:
  fast_finish: true
  allow_failures:
    - env: nightly
    - env: node9
  include:
    # Build stage
    - script: npm run build
      env: build

install:
  - npm install -g npm@5.8.0
  - npm install -g angular/cli